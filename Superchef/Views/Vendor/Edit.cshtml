@model Account

@{
    ViewBag.Title = "Edit Vendor | Superchef";
}

<div class="container" data-limit-container>
    <div class="title">Vendor Details</div>
    <div data-column-container="3">
        <div>Id</div>
        <div>:</div>
        <div>@Model.Id</div>
        <div>Name</div>
        <div>:</div>
        <div>@Model.Name</div>
        <div>Email</div>
        <div>:</div>
        <div>@Model.Email</div>
        <div>Stores Count</div>
        <div>:</div>
        <div>@Model.Stores.Count(s => !s.IsDeleted)</div>
        <div>Status</div>
        <div>:</div>
        <div>@Model.Status</div>
    </div>
</div>

<div class="container" data-limit-container>
    <div class="title">Action</div>
    <div class="button-group" data-flex="inline column">
        <a data-button="info" href="@Url.Action("Manage", "Store", new { id = Model.Id })">Manage Stores</a>

        @if (!Model.IsBanned)
        {
            <a data-button="danger" data-ajax="true" data-ajax-url="@Url.Action("Ban", new { id = Model.Id })"
                data-ajax-method="POST" data-ajax-failure="defaultOnFailure" data-ajax-success="reloadPage"
                data-ajax-confirm="Are you sure you want to ban this vendor?">Ban Vendor</a>
        }
        else
        {
            <a data-button="accent" data-ajax="true" data-ajax-url="@Url.Action("Unban", new { id = Model.Id })"
                data-ajax-method="POST" data-ajax-failure="defaultOnFailure" data-ajax-success="reloadPage"
                data-ajax-confirm="Are you sure you want to unban this vendor?">Unban Vendor</a>
        }

        @if (Model.DeletionAt != null)
        {
            <a data-button="accent" data-ajax="true" data-ajax-url="@Url.Action("RevokeDeletion", new { id = Model.Id })"
                data-ajax-method="POST" data-ajax-failure="defaultOnFailure" data-ajax-success="reloadPage"
                data-ajax-confirm="Are you sure you want to revoke deletion for this vendor?">Revoke Deletion</a>
        }

        @if (Model.LockoutEnd != null)
        {
            <a data-button="accent" data-ajax="true" data-ajax-url="@Url.Action("RemoveTimeout", new { id = Model.Id })"
                data-ajax-method="POST" data-ajax-failure="defaultOnFailure" data-ajax-success="reloadPage"
                data-ajax-confirm="Are you sure you want to remove timeout for this vendor?">Remove Timeout</a>
        }

        <a data-button="danger" data-ajax="true" data-ajax-url="@Url.Action("LogoutAllDevices", new { id = Model.Id })"
            data-ajax-method="POST" data-ajax-failure="defaultOnFailure" data-ajax-success="reloadPage"
            data-ajax-confirm="Are you sure you want to log out all devices of this vendor?">Log Out from All
            Devices</a>
    </div>
</div>